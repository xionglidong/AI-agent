{
  message: 'Registered Mastra tool: filesystem',
  level: 'info',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 20:03:11'
}
{
  message: 'Registered Mastra tool: code_analyzer',
  level: 'info',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 20:03:11'
}
{
  message: 'Registered Mastra tool: git_integration',
  level: 'info',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 20:03:11'
}
{
  message: 'Registered Mastra tool: code_generator',
  level: 'info',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 20:03:11'
}
{
  message: 'Initialized 4 Mastra tools',
  level: 'info',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 20:03:11'
}
{
  message: 'Registered Mastra workflow: Comprehensive Code Review',
  level: 'info',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 20:03:11'
}
{
  message: 'Registered Mastra workflow: Security Audit',
  level: 'info',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 20:03:11'
}
{
  message: 'Registered Mastra workflow: Repository Analysis',
  level: 'info',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 20:03:11'
}
{
  message: 'Initialized 3 Mastra workflows',
  level: 'info',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 20:03:11'
}
{
  message: 'No API key found. Set OPENAI_API_KEY or ANTHROPIC_API_KEY environment variable.',
  level: 'warn',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 20:03:11'
}
{
  message: 'WebSocket server started on port 3001',
  level: 'info',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 20:03:11'
}
{
  service: 'ai-code-review-agent',
  port: 3000,
  wsPort: 3001,
  agent: 'CodeReviewAgent',
  model: 'gpt-4',
  environment: 'development',
  dashboard: 'http://localhost:3000',
  websocket: 'ws://localhost:3001',
  level: 'info',
  message: 'ðŸš€ Code Review AI Agent server started',
  timestamp: '2025-08-17 20:03:11'
}
{
  service: 'ai-code-review-agent',
  method: 'GET',
  url: '/api/health',
  status: 200,
  duration: '8ms',
  userAgent: 'curl/7.87.0',
  ip: '::ffff:127.0.0.1',
  level: 'info',
  message: 'HTTP Request',
  timestamp: '2025-08-17 20:03:20'
}
{
  message: 'ðŸ›‘ Shutting down gracefully...',
  level: 'info',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 20:04:23'
}
{
  message: 'Registered Mastra tool: filesystem',
  level: 'info',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 20:07:20'
}
{
  message: 'Registered Mastra tool: code_analyzer',
  level: 'info',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 20:07:20'
}
{
  message: 'Registered Mastra tool: git_integration',
  level: 'info',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 20:07:20'
}
{
  message: 'Registered Mastra tool: code_generator',
  level: 'info',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 20:07:20'
}
{
  message: 'Initialized 4 Mastra tools',
  level: 'info',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 20:07:20'
}
{
  message: 'Registered Mastra workflow: Comprehensive Code Review',
  level: 'info',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 20:07:20'
}
{
  message: 'Registered Mastra workflow: Security Audit',
  level: 'info',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 20:07:20'
}
{
  message: 'Registered Mastra workflow: Repository Analysis',
  level: 'info',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 20:07:20'
}
{
  message: 'Initialized 3 Mastra workflows',
  level: 'info',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 20:07:20'
}
{
  message: 'No API key found. Set OPENAI_API_KEY or ANTHROPIC_API_KEY environment variable.',
  level: 'warn',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 20:07:20'
}
{
  message: 'WebSocket server started on port 3001',
  level: 'info',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 20:07:20'
}
{
  service: 'ai-code-review-agent',
  port: 3000,
  wsPort: 3001,
  agent: 'CodeReviewAgent',
  model: 'gpt-4',
  environment: 'development',
  dashboard: 'http://localhost:3000',
  websocket: 'ws://localhost:3001',
  level: 'info',
  message: 'ðŸš€ Code Review AI Agent server started',
  timestamp: '2025-08-17 20:07:20'
}
{
  service: 'ai-code-review-agent',
  method: 'GET',
  url: '/api/health',
  status: 200,
  duration: '10ms',
  userAgent: 'curl/7.87.0',
  ip: '::ffff:127.0.0.1',
  level: 'info',
  message: 'HTTP Request',
  timestamp: '2025-08-17 20:07:29'
}
{
  service: 'ai-code-review-agent',
  method: 'GET',
  url: '/',
  status: 200,
  duration: '4ms',
  userAgent: 'curl/7.87.0',
  ip: '::ffff:127.0.0.1',
  level: 'info',
  message: 'HTTP Request',
  timestamp: '2025-08-17 20:07:36'
}
{
  message: 'ðŸ›‘ Shutting down gracefully...',
  level: 'info',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 20:07:47'
}
{
  message: 'Registered Mastra tool: filesystem',
  level: 'info',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 20:38:05'
}
{
  message: 'Registered Mastra tool: code_analyzer',
  level: 'info',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 20:38:05'
}
{
  message: 'Registered Mastra tool: git_integration',
  level: 'info',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 20:38:05'
}
{
  message: 'Registered Mastra tool: code_generator',
  level: 'info',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 20:38:05'
}
{
  message: 'Initialized 4 Mastra tools',
  level: 'info',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 20:38:05'
}
{
  message: 'Registered Mastra workflow: Comprehensive Code Review',
  level: 'info',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 20:38:05'
}
{
  message: 'Registered Mastra workflow: Security Audit',
  level: 'info',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 20:38:05'
}
{
  message: 'Registered Mastra workflow: Repository Analysis',
  level: 'info',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 20:38:05'
}
{
  message: 'Initialized 3 Mastra workflows',
  level: 'info',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 20:38:05'
}
{
  message: 'No API key found. Set OPENAI_API_KEY or ANTHROPIC_API_KEY environment variable.',
  level: 'warn',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 20:38:05'
}
{
  message: 'WebSocket server started on port 3001',
  level: 'info',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 20:38:05'
}
{
  service: 'ai-code-review-agent',
  port: 3000,
  wsPort: 3001,
  agent: 'CodeReviewAgent',
  model: 'gpt-4',
  environment: 'development',
  dashboard: 'http://localhost:3000',
  websocket: 'ws://localhost:3001',
  level: 'info',
  message: 'ðŸš€ Code Review AI Agent server started',
  timestamp: '2025-08-17 20:38:05'
}
{
  service: 'ai-code-review-agent',
  method: 'GET',
  url: '/api/health',
  status: 200,
  duration: '8ms',
  userAgent: 'curl/7.87.0',
  ip: '::ffff:127.0.0.1',
  level: 'info',
  message: 'HTTP Request',
  timestamp: '2025-08-17 20:38:12'
}
{
  service: 'ai-code-review-agent',
  language: 'javascript',
  filePath: undefined,
  codeLength: 27,
  level: 'info',
  message: 'Starting code analysis',
  timestamp: '2025-08-17 20:38:50'
}
{
  service: 'ai-code-review-agent',
  name: 'AI_RetryError',
  cause: undefined,
  reason: 'maxRetriesExceeded',
  errors: [
    APICallError [AI_APICallError]: Cannot connect to API: Connect Timeout Error
        at postToApi (/Users/xld/Desktop/project/AI-agent/node_modules/@ai-sdk/openai/node_modules/@ai-sdk/provider-utils/dist/index.js:446:15)
        at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
        at async OpenAIChatLanguageModel.doGenerate (/Users/xld/Desktop/project/AI-agent/node_modules/@ai-sdk/openai/dist/index.js:390:50)
        at async fn (/Users/xld/Desktop/project/AI-agent/node_modules/ai/dist/index.js:2341:33)
        at async /Users/xld/Desktop/project/AI-agent/node_modules/ai/dist/index.js:343:22
        at async _retryWithExponentialBackoff (/Users/xld/Desktop/project/AI-agent/node_modules/ai/dist/index.js:171:12)
        at async fn (/Users/xld/Desktop/project/AI-agent/node_modules/ai/dist/index.js:2309:34)
        at async /Users/xld/Desktop/project/AI-agent/node_modules/ai/dist/index.js:343:22
        at async MastraCodeReviewAgent.generateAssessment (/Users/xld/Desktop/project/AI-agent/dist/agent.js:76:24)
        at async MastraCodeReviewAgent.analyzeCode (/Users/xld/Desktop/project/AI-agent/dist/agent.js:51:28) {
      cause: ConnectTimeoutError: Connect Timeout Error
          at onConnectTimeout (node:internal/deps/undici/undici:8422:28)
          at node:internal/deps/undici/undici:8380:50
          at Immediate._onImmediate (node:internal/deps/undici/undici:8411:13)
          at process.processImmediate (node:internal/timers:476:21) {
        code: 'UND_ERR_CONNECT_TIMEOUT'
      },
      url: 'https://api.openai.com/v1/chat/completions',
      requestBodyValues: {
        model: 'gpt-4',
        logit_bias: undefined,
        logprobs: undefined,
        top_logprobs: undefined,
        user: undefined,
        parallel_tool_calls: undefined,
        max_tokens: undefined,
        temperature: 0,
        top_p: undefined,
        frequency_penalty: undefined,
        presence_penalty: undefined,
        stop: undefined,
        seed: undefined,
        max_completion_tokens: undefined,
        store: undefined,
        metadata: undefined,
        response_format: undefined,
        messages: [
          {
            role: 'user',
            content: 'You are a senior code reviewer. Analyze this javascript code and provide:\n' +
              '1. A comprehensive summary of the code quality\n' +
              '2. Optimized version of the code (if improvements are possible)\n' +
              '\n' +
              'Code:\n' +
              '```javascript\n' +
              'const x = 5; console.log(x)\n' +
              '```\n' +
              '\n' +
              'Detected Issues:\n' +
              '- style (low): Missing semicolon\\n- suggestion (low): console.log found - should be removed in production\n' +
              '\n' +
              '\n' +
              '\n' +
              'Provide your analysis focusing on code quality, maintainability, and best practices.'
          }
        ],
        tool_choice: { type: 'function', function: { name: 'json' } },
        tools: [
          {
            type: 'function',
            function: {
              name: 'json',
              description: 'Respond with a JSON object.',
              parameters: {
                type: 'object',
                properties: {
                  summary: {
                    type: 'string',
                    description: 'Comprehensive summary of code quality and recommendations'
                  },
                  optimizedCode: {
                    type: 'string',
                    description: 'Improved version of the code if optimizations are possible'
                  },
                  additionalSuggestions: {
                    type: 'array',
                    items: { type: 'string' },
                    description: 'Additional suggestions for improvement'
                  }
                },
                required: [ 'summary', 'additionalSuggestions' ],
                additionalProperties: false,
                '$schema': 'http://json-schema.org/draft-07/schema#'
              },
              strict: undefined
            }
          }
        ]
      },
      statusCode: undefined,
      responseHeaders: undefined,
      responseBody: undefined,
      isRetryable: true,
      data: undefined,
      [Symbol(vercel.ai.error)]: true,
      [Symbol(vercel.ai.error.AI_APICallError)]: true
    },
    APICallError [AI_APICallError]: Cannot connect to API: Connect Timeout Error
        at postToApi (/Users/xld/Desktop/project/AI-agent/node_modules/@ai-sdk/openai/node_modules/@ai-sdk/provider-utils/dist/index.js:446:15)
        at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
        at async OpenAIChatLanguageModel.doGenerate (/Users/xld/Desktop/project/AI-agent/node_modules/@ai-sdk/openai/dist/index.js:390:50)
        at async fn (/Users/xld/Desktop/project/AI-agent/node_modules/ai/dist/index.js:2341:33)
        at async /Users/xld/Desktop/project/AI-agent/node_modules/ai/dist/index.js:343:22
        at async _retryWithExponentialBackoff (/Users/xld/Desktop/project/AI-agent/node_modules/ai/dist/index.js:171:12)
        at async fn (/Users/xld/Desktop/project/AI-agent/node_modules/ai/dist/index.js:2309:34)
        at async /Users/xld/Desktop/project/AI-agent/node_modules/ai/dist/index.js:343:22
        at async MastraCodeReviewAgent.generateAssessment (/Users/xld/Desktop/project/AI-agent/dist/agent.js:76:24)
        at async MastraCodeReviewAgent.analyzeCode (/Users/xld/Desktop/project/AI-agent/dist/agent.js:51:28) {
      cause: ConnectTimeoutError: Connect Timeout Error
          at onConnectTimeout (node:internal/deps/undici/undici:8422:28)
          at node:internal/deps/undici/undici:8380:50
          at Immediate._onImmediate (node:internal/deps/undici/undici:8411:13)
          at process.processImmediate (node:internal/timers:476:21) {
        code: 'UND_ERR_CONNECT_TIMEOUT'
      },
      url: 'https://api.openai.com/v1/chat/completions',
      requestBodyValues: {
        model: 'gpt-4',
        logit_bias: undefined,
        logprobs: undefined,
        top_logprobs: undefined,
        user: undefined,
        parallel_tool_calls: undefined,
        max_tokens: undefined,
        temperature: 0,
        top_p: undefined,
        frequency_penalty: undefined,
        presence_penalty: undefined,
        stop: undefined,
        seed: undefined,
        max_completion_tokens: undefined,
        store: undefined,
        metadata: undefined,
        response_format: undefined,
        messages: [
          {
            role: 'user',
            content: 'You are a senior code reviewer. Analyze this javascript code and provide:\n' +
              '1. A comprehensive summary of the code quality\n' +
              '2. Optimized version of the code (if improvements are possible)\n' +
              '\n' +
              'Code:\n' +
              '```javascript\n' +
              'const x = 5; console.log(x)\n' +
              '```\n' +
              '\n' +
              'Detected Issues:\n' +
              '- style (low): Missing semicolon\\n- suggestion (low): console.log found - should be removed in production\n' +
              '\n' +
              '\n' +
              '\n' +
              'Provide your analysis focusing on code quality, maintainability, and best practices.'
          }
        ],
        tool_choice: { type: 'function', function: { name: 'json' } },
        tools: [
          {
            type: 'function',
            function: {
              name: 'json',
              description: 'Respond with a JSON object.',
              parameters: {
                type: 'object',
                properties: {
                  summary: {
                    type: 'string',
                    description: 'Comprehensive summary of code quality and recommendations'
                  },
                  optimizedCode: {
                    type: 'string',
                    description: 'Improved version of the code if optimizations are possible'
                  },
                  additionalSuggestions: {
                    type: 'array',
                    items: { type: 'string' },
                    description: 'Additional suggestions for improvement'
                  }
                },
                required: [ 'summary', 'additionalSuggestions' ],
                additionalProperties: false,
                '$schema': 'http://json-schema.org/draft-07/schema#'
              },
              strict: undefined
            }
          }
        ]
      },
      statusCode: undefined,
      responseHeaders: undefined,
      responseBody: undefined,
      isRetryable: true,
      data: undefined,
      [Symbol(vercel.ai.error)]: true,
      [Symbol(vercel.ai.error.AI_APICallError)]: true
    },
    APICallError [AI_APICallError]: Cannot connect to API: Connect Timeout Error
        at postToApi (/Users/xld/Desktop/project/AI-agent/node_modules/@ai-sdk/openai/node_modules/@ai-sdk/provider-utils/dist/index.js:446:15)
        at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
        at async OpenAIChatLanguageModel.doGenerate (/Users/xld/Desktop/project/AI-agent/node_modules/@ai-sdk/openai/dist/index.js:390:50)
        at async fn (/Users/xld/Desktop/project/AI-agent/node_modules/ai/dist/index.js:2341:33)
        at async /Users/xld/Desktop/project/AI-agent/node_modules/ai/dist/index.js:343:22
        at async _retryWithExponentialBackoff (/Users/xld/Desktop/project/AI-agent/node_modules/ai/dist/index.js:171:12)
        at async fn (/Users/xld/Desktop/project/AI-agent/node_modules/ai/dist/index.js:2309:34)
        at async /Users/xld/Desktop/project/AI-agent/node_modules/ai/dist/index.js:343:22
        at async MastraCodeReviewAgent.generateAssessment (/Users/xld/Desktop/project/AI-agent/dist/agent.js:76:24)
        at async MastraCodeReviewAgent.analyzeCode (/Users/xld/Desktop/project/AI-agent/dist/agent.js:51:28) {
      cause: ConnectTimeoutError: Connect Timeout Error
          at onConnectTimeout (node:internal/deps/undici/undici:8422:28)
          at node:internal/deps/undici/undici:8380:50
          at Immediate._onImmediate (node:internal/deps/undici/undici:8411:13)
          at process.processImmediate (node:internal/timers:476:21) {
        code: 'UND_ERR_CONNECT_TIMEOUT'
      },
      url: 'https://api.openai.com/v1/chat/completions',
      requestBodyValues: {
        model: 'gpt-4',
        logit_bias: undefined,
        logprobs: undefined,
        top_logprobs: undefined,
        user: undefined,
        parallel_tool_calls: undefined,
        max_tokens: undefined,
        temperature: 0,
        top_p: undefined,
        frequency_penalty: undefined,
        presence_penalty: undefined,
        stop: undefined,
        seed: undefined,
        max_completion_tokens: undefined,
        store: undefined,
        metadata: undefined,
        response_format: undefined,
        messages: [
          {
            role: 'user',
            content: 'You are a senior code reviewer. Analyze this javascript code and provide:\n' +
              '1. A comprehensive summary of the code quality\n' +
              '2. Optimized version of the code (if improvements are possible)\n' +
              '\n' +
              'Code:\n' +
              '```javascript\n' +
              'const x = 5; console.log(x)\n' +
              '```\n' +
              '\n' +
              'Detected Issues:\n' +
              '- style (low): Missing semicolon\\n- suggestion (low): console.log found - should be removed in production\n' +
              '\n' +
              '\n' +
              '\n' +
              'Provide your analysis focusing on code quality, maintainability, and best practices.'
          }
        ],
        tool_choice: { type: 'function', function: { name: 'json' } },
        tools: [
          {
            type: 'function',
            function: {
              name: 'json',
              description: 'Respond with a JSON object.',
              parameters: {
                type: 'object',
                properties: {
                  summary: {
                    type: 'string',
                    description: 'Comprehensive summary of code quality and recommendations'
                  },
                  optimizedCode: {
                    type: 'string',
                    description: 'Improved version of the code if optimizations are possible'
                  },
                  additionalSuggestions: {
                    type: 'array',
                    items: { type: 'string' },
                    description: 'Additional suggestions for improvement'
                  }
                },
                required: [ 'summary', 'additionalSuggestions' ],
                additionalProperties: false,
                '$schema': 'http://json-schema.org/draft-07/schema#'
              },
              strict: undefined
            }
          }
        ]
      },
      statusCode: undefined,
      responseHeaders: undefined,
      responseBody: undefined,
      isRetryable: true,
      data: undefined,
      [Symbol(vercel.ai.error)]: true,
      [Symbol(vercel.ai.error.AI_APICallError)]: true
    }
  ],
  lastError: APICallError [AI_APICallError]: Cannot connect to API: Connect Timeout Error
      at postToApi (/Users/xld/Desktop/project/AI-agent/node_modules/@ai-sdk/openai/node_modules/@ai-sdk/provider-utils/dist/index.js:446:15)
      at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
      at async OpenAIChatLanguageModel.doGenerate (/Users/xld/Desktop/project/AI-agent/node_modules/@ai-sdk/openai/dist/index.js:390:50)
      at async fn (/Users/xld/Desktop/project/AI-agent/node_modules/ai/dist/index.js:2341:33)
      at async /Users/xld/Desktop/project/AI-agent/node_modules/ai/dist/index.js:343:22
      at async _retryWithExponentialBackoff (/Users/xld/Desktop/project/AI-agent/node_modules/ai/dist/index.js:171:12)
      at async fn (/Users/xld/Desktop/project/AI-agent/node_modules/ai/dist/index.js:2309:34)
      at async /Users/xld/Desktop/project/AI-agent/node_modules/ai/dist/index.js:343:22
      at async MastraCodeReviewAgent.generateAssessment (/Users/xld/Desktop/project/AI-agent/dist/agent.js:76:24)
      at async MastraCodeReviewAgent.analyzeCode (/Users/xld/Desktop/project/AI-agent/dist/agent.js:51:28) {
    cause: ConnectTimeoutError: Connect Timeout Error
        at onConnectTimeout (node:internal/deps/undici/undici:8422:28)
        at node:internal/deps/undici/undici:8380:50
        at Immediate._onImmediate (node:internal/deps/undici/undici:8411:13)
        at process.processImmediate (node:internal/timers:476:21) {
      code: 'UND_ERR_CONNECT_TIMEOUT'
    },
    url: 'https://api.openai.com/v1/chat/completions',
    requestBodyValues: {
      model: 'gpt-4',
      logit_bias: undefined,
      logprobs: undefined,
      top_logprobs: undefined,
      user: undefined,
      parallel_tool_calls: undefined,
      max_tokens: undefined,
      temperature: 0,
      top_p: undefined,
      frequency_penalty: undefined,
      presence_penalty: undefined,
      stop: undefined,
      seed: undefined,
      max_completion_tokens: undefined,
      store: undefined,
      metadata: undefined,
      response_format: undefined,
      messages: [
        {
          role: 'user',
          content: 'You are a senior code reviewer. Analyze this javascript code and provide:\n' +
            '1. A comprehensive summary of the code quality\n' +
            '2. Optimized version of the code (if improvements are possible)\n' +
            '\n' +
            'Code:\n' +
            '```javascript\n' +
            'const x = 5; console.log(x)\n' +
            '```\n' +
            '\n' +
            'Detected Issues:\n' +
            '- style (low): Missing semicolon\\n- suggestion (low): console.log found - should be removed in production\n' +
            '\n' +
            '\n' +
            '\n' +
            'Provide your analysis focusing on code quality, maintainability, and best practices.'
        }
      ],
      tool_choice: { type: 'function', function: { name: 'json' } },
      tools: [
        {
          type: 'function',
          function: {
            name: 'json',
            description: 'Respond with a JSON object.',
            parameters: {
              type: 'object',
              properties: {
                summary: {
                  type: 'string',
                  description: 'Comprehensive summary of code quality and recommendations'
                },
                optimizedCode: {
                  type: 'string',
                  description: 'Improved version of the code if optimizations are possible'
                },
                additionalSuggestions: {
                  type: 'array',
                  items: { type: 'string' },
                  description: 'Additional suggestions for improvement'
                }
              },
              required: [ 'summary', 'additionalSuggestions' ],
              additionalProperties: false,
              '$schema': 'http://json-schema.org/draft-07/schema#'
            },
            strict: undefined
          }
        }
      ]
    },
    statusCode: undefined,
    responseHeaders: undefined,
    responseBody: undefined,
    isRetryable: true,
    data: undefined,
    [Symbol(vercel.ai.error)]: true,
    [Symbol(vercel.ai.error.AI_APICallError)]: true
  },
  level: 'error',
  message: 'Error analyzing code: Failed after 3 attempts. Last error: Cannot connect to API: Connect Timeout Error',
  stack: 'AI_RetryError: Failed after 3 attempts. Last error: Cannot connect to API: Connect Timeout Error\n' +
    '    at _retryWithExponentialBackoff (/Users/xld/Desktop/project/AI-agent/node_modules/ai/dist/index.js:183:13)\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n' +
    '    at async fn (/Users/xld/Desktop/project/AI-agent/node_modules/ai/dist/index.js:2309:34)\n' +
    '    at async /Users/xld/Desktop/project/AI-agent/node_modules/ai/dist/index.js:343:22\n' +
    '    at async MastraCodeReviewAgent.generateAssessment (/Users/xld/Desktop/project/AI-agent/dist/agent.js:76:24)\n' +
    '    at async MastraCodeReviewAgent.analyzeCode (/Users/xld/Desktop/project/AI-agent/dist/agent.js:51:28)\n' +
    '    at async /Users/xld/Desktop/project/AI-agent/dist/index.js:99:24',
  timestamp: '2025-08-17 20:39:26',
  [Symbol(vercel.ai.error)]: true,
  [Symbol(vercel.ai.error.AI_RetryError)]: true
}
{
  service: 'ai-code-review-agent',
  method: 'POST',
  url: '/api/analyze-code',
  status: 500,
  duration: '36140ms',
  userAgent: 'curl/7.87.0',
  ip: '::ffff:127.0.0.1',
  level: 'warn',
  message: 'HTTP Request',
  timestamp: '2025-08-17 20:39:26'
}
{
  service: 'ai-code-review-agent',
  language: 'javascript',
  filePath: undefined,
  codeLength: 27,
  level: 'info',
  message: 'Starting code analysis',
  timestamp: '2025-08-17 20:39:33'
}
{
  service: 'ai-code-review-agent',
  name: 'AI_RetryError',
  cause: undefined,
  reason: 'maxRetriesExceeded',
  errors: [
    APICallError [AI_APICallError]: Cannot connect to API: Connect Timeout Error
        at postToApi (/Users/xld/Desktop/project/AI-agent/node_modules/@ai-sdk/openai/node_modules/@ai-sdk/provider-utils/dist/index.js:446:15)
        at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
        at async OpenAIChatLanguageModel.doGenerate (/Users/xld/Desktop/project/AI-agent/node_modules/@ai-sdk/openai/dist/index.js:390:50)
        at async fn (/Users/xld/Desktop/project/AI-agent/node_modules/ai/dist/index.js:2341:33)
        at async /Users/xld/Desktop/project/AI-agent/node_modules/ai/dist/index.js:343:22
        at async _retryWithExponentialBackoff (/Users/xld/Desktop/project/AI-agent/node_modules/ai/dist/index.js:171:12)
        at async fn (/Users/xld/Desktop/project/AI-agent/node_modules/ai/dist/index.js:2309:34)
        at async /Users/xld/Desktop/project/AI-agent/node_modules/ai/dist/index.js:343:22
        at async MastraCodeReviewAgent.generateAssessment (/Users/xld/Desktop/project/AI-agent/dist/agent.js:76:24)
        at async MastraCodeReviewAgent.analyzeCode (/Users/xld/Desktop/project/AI-agent/dist/agent.js:51:28) {
      cause: ConnectTimeoutError: Connect Timeout Error
          at onConnectTimeout (node:internal/deps/undici/undici:8422:28)
          at node:internal/deps/undici/undici:8380:50
          at Immediate._onImmediate (node:internal/deps/undici/undici:8411:13)
          at process.processImmediate (node:internal/timers:476:21) {
        code: 'UND_ERR_CONNECT_TIMEOUT'
      },
      url: 'https://api.openai.com/v1/chat/completions',
      requestBodyValues: {
        model: 'gpt-4',
        logit_bias: undefined,
        logprobs: undefined,
        top_logprobs: undefined,
        user: undefined,
        parallel_tool_calls: undefined,
        max_tokens: undefined,
        temperature: 0,
        top_p: undefined,
        frequency_penalty: undefined,
        presence_penalty: undefined,
        stop: undefined,
        seed: undefined,
        max_completion_tokens: undefined,
        store: undefined,
        metadata: undefined,
        response_format: undefined,
        messages: [
          {
            role: 'user',
            content: 'You are a senior code reviewer. Analyze this javascript code and provide:\n' +
              '1. A comprehensive summary of the code quality\n' +
              '2. Optimized version of the code (if improvements are possible)\n' +
              '\n' +
              'Code:\n' +
              '```javascript\n' +
              'const x = 5; console.log(x)\n' +
              '```\n' +
              '\n' +
              'Detected Issues:\n' +
              '- style (low): Missing semicolon\\n- suggestion (low): console.log found - should be removed in production\n' +
              '\n' +
              '\n' +
              '\n' +
              'Provide your analysis focusing on code quality, maintainability, and best practices.'
          }
        ],
        tool_choice: { type: 'function', function: { name: 'json' } },
        tools: [
          {
            type: 'function',
            function: {
              name: 'json',
              description: 'Respond with a JSON object.',
              parameters: {
                type: 'object',
                properties: {
                  summary: {
                    type: 'string',
                    description: 'Comprehensive summary of code quality and recommendations'
                  },
                  optimizedCode: {
                    type: 'string',
                    description: 'Improved version of the code if optimizations are possible'
                  },
                  additionalSuggestions: {
                    type: 'array',
                    items: { type: 'string' },
                    description: 'Additional suggestions for improvement'
                  }
                },
                required: [ 'summary', 'additionalSuggestions' ],
                additionalProperties: false,
                '$schema': 'http://json-schema.org/draft-07/schema#'
              },
              strict: undefined
            }
          }
        ]
      },
      statusCode: undefined,
      responseHeaders: undefined,
      responseBody: undefined,
      isRetryable: true,
      data: undefined,
      [Symbol(vercel.ai.error)]: true,
      [Symbol(vercel.ai.error.AI_APICallError)]: true
    },
    APICallError [AI_APICallError]: Cannot connect to API: Connect Timeout Error
        at postToApi (/Users/xld/Desktop/project/AI-agent/node_modules/@ai-sdk/openai/node_modules/@ai-sdk/provider-utils/dist/index.js:446:15)
        at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
        at async OpenAIChatLanguageModel.doGenerate (/Users/xld/Desktop/project/AI-agent/node_modules/@ai-sdk/openai/dist/index.js:390:50)
        at async fn (/Users/xld/Desktop/project/AI-agent/node_modules/ai/dist/index.js:2341:33)
        at async /Users/xld/Desktop/project/AI-agent/node_modules/ai/dist/index.js:343:22
        at async _retryWithExponentialBackoff (/Users/xld/Desktop/project/AI-agent/node_modules/ai/dist/index.js:171:12)
        at async fn (/Users/xld/Desktop/project/AI-agent/node_modules/ai/dist/index.js:2309:34)
        at async /Users/xld/Desktop/project/AI-agent/node_modules/ai/dist/index.js:343:22
        at async MastraCodeReviewAgent.generateAssessment (/Users/xld/Desktop/project/AI-agent/dist/agent.js:76:24)
        at async MastraCodeReviewAgent.analyzeCode (/Users/xld/Desktop/project/AI-agent/dist/agent.js:51:28) {
      cause: ConnectTimeoutError: Connect Timeout Error
          at onConnectTimeout (node:internal/deps/undici/undici:8422:28)
          at node:internal/deps/undici/undici:8380:50
          at Immediate._onImmediate (node:internal/deps/undici/undici:8411:13)
          at process.processImmediate (node:internal/timers:476:21) {
        code: 'UND_ERR_CONNECT_TIMEOUT'
      },
      url: 'https://api.openai.com/v1/chat/completions',
      requestBodyValues: {
        model: 'gpt-4',
        logit_bias: undefined,
        logprobs: undefined,
        top_logprobs: undefined,
        user: undefined,
        parallel_tool_calls: undefined,
        max_tokens: undefined,
        temperature: 0,
        top_p: undefined,
        frequency_penalty: undefined,
        presence_penalty: undefined,
        stop: undefined,
        seed: undefined,
        max_completion_tokens: undefined,
        store: undefined,
        metadata: undefined,
        response_format: undefined,
        messages: [
          {
            role: 'user',
            content: 'You are a senior code reviewer. Analyze this javascript code and provide:\n' +
              '1. A comprehensive summary of the code quality\n' +
              '2. Optimized version of the code (if improvements are possible)\n' +
              '\n' +
              'Code:\n' +
              '```javascript\n' +
              'const x = 5; console.log(x)\n' +
              '```\n' +
              '\n' +
              'Detected Issues:\n' +
              '- style (low): Missing semicolon\\n- suggestion (low): console.log found - should be removed in production\n' +
              '\n' +
              '\n' +
              '\n' +
              'Provide your analysis focusing on code quality, maintainability, and best practices.'
          }
        ],
        tool_choice: { type: 'function', function: { name: 'json' } },
        tools: [
          {
            type: 'function',
            function: {
              name: 'json',
              description: 'Respond with a JSON object.',
              parameters: {
                type: 'object',
                properties: {
                  summary: {
                    type: 'string',
                    description: 'Comprehensive summary of code quality and recommendations'
                  },
                  optimizedCode: {
                    type: 'string',
                    description: 'Improved version of the code if optimizations are possible'
                  },
                  additionalSuggestions: {
                    type: 'array',
                    items: { type: 'string' },
                    description: 'Additional suggestions for improvement'
                  }
                },
                required: [ 'summary', 'additionalSuggestions' ],
                additionalProperties: false,
                '$schema': 'http://json-schema.org/draft-07/schema#'
              },
              strict: undefined
            }
          }
        ]
      },
      statusCode: undefined,
      responseHeaders: undefined,
      responseBody: undefined,
      isRetryable: true,
      data: undefined,
      [Symbol(vercel.ai.error)]: true,
      [Symbol(vercel.ai.error.AI_APICallError)]: true
    },
    APICallError [AI_APICallError]: Cannot connect to API: Connect Timeout Error
        at postToApi (/Users/xld/Desktop/project/AI-agent/node_modules/@ai-sdk/openai/node_modules/@ai-sdk/provider-utils/dist/index.js:446:15)
        at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
        at async OpenAIChatLanguageModel.doGenerate (/Users/xld/Desktop/project/AI-agent/node_modules/@ai-sdk/openai/dist/index.js:390:50)
        at async fn (/Users/xld/Desktop/project/AI-agent/node_modules/ai/dist/index.js:2341:33)
        at async /Users/xld/Desktop/project/AI-agent/node_modules/ai/dist/index.js:343:22
        at async _retryWithExponentialBackoff (/Users/xld/Desktop/project/AI-agent/node_modules/ai/dist/index.js:171:12)
        at async fn (/Users/xld/Desktop/project/AI-agent/node_modules/ai/dist/index.js:2309:34)
        at async /Users/xld/Desktop/project/AI-agent/node_modules/ai/dist/index.js:343:22
        at async MastraCodeReviewAgent.generateAssessment (/Users/xld/Desktop/project/AI-agent/dist/agent.js:76:24)
        at async MastraCodeReviewAgent.analyzeCode (/Users/xld/Desktop/project/AI-agent/dist/agent.js:51:28) {
      cause: ConnectTimeoutError: Connect Timeout Error
          at onConnectTimeout (node:internal/deps/undici/undici:8422:28)
          at node:internal/deps/undici/undici:8380:50
          at Immediate._onImmediate (node:internal/deps/undici/undici:8411:13)
          at process.processImmediate (node:internal/timers:476:21) {
        code: 'UND_ERR_CONNECT_TIMEOUT'
      },
      url: 'https://api.openai.com/v1/chat/completions',
      requestBodyValues: {
        model: 'gpt-4',
        logit_bias: undefined,
        logprobs: undefined,
        top_logprobs: undefined,
        user: undefined,
        parallel_tool_calls: undefined,
        max_tokens: undefined,
        temperature: 0,
        top_p: undefined,
        frequency_penalty: undefined,
        presence_penalty: undefined,
        stop: undefined,
        seed: undefined,
        max_completion_tokens: undefined,
        store: undefined,
        metadata: undefined,
        response_format: undefined,
        messages: [
          {
            role: 'user',
            content: 'You are a senior code reviewer. Analyze this javascript code and provide:\n' +
              '1. A comprehensive summary of the code quality\n' +
              '2. Optimized version of the code (if improvements are possible)\n' +
              '\n' +
              'Code:\n' +
              '```javascript\n' +
              'const x = 5; console.log(x)\n' +
              '```\n' +
              '\n' +
              'Detected Issues:\n' +
              '- style (low): Missing semicolon\\n- suggestion (low): console.log found - should be removed in production\n' +
              '\n' +
              '\n' +
              '\n' +
              'Provide your analysis focusing on code quality, maintainability, and best practices.'
          }
        ],
        tool_choice: { type: 'function', function: { name: 'json' } },
        tools: [
          {
            type: 'function',
            function: {
              name: 'json',
              description: 'Respond with a JSON object.',
              parameters: {
                type: 'object',
                properties: {
                  summary: {
                    type: 'string',
                    description: 'Comprehensive summary of code quality and recommendations'
                  },
                  optimizedCode: {
                    type: 'string',
                    description: 'Improved version of the code if optimizations are possible'
                  },
                  additionalSuggestions: {
                    type: 'array',
                    items: { type: 'string' },
                    description: 'Additional suggestions for improvement'
                  }
                },
                required: [ 'summary', 'additionalSuggestions' ],
                additionalProperties: false,
                '$schema': 'http://json-schema.org/draft-07/schema#'
              },
              strict: undefined
            }
          }
        ]
      },
      statusCode: undefined,
      responseHeaders: undefined,
      responseBody: undefined,
      isRetryable: true,
      data: undefined,
      [Symbol(vercel.ai.error)]: true,
      [Symbol(vercel.ai.error.AI_APICallError)]: true
    }
  ],
  lastError: APICallError [AI_APICallError]: Cannot connect to API: Connect Timeout Error
      at postToApi (/Users/xld/Desktop/project/AI-agent/node_modules/@ai-sdk/openai/node_modules/@ai-sdk/provider-utils/dist/index.js:446:15)
      at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
      at async OpenAIChatLanguageModel.doGenerate (/Users/xld/Desktop/project/AI-agent/node_modules/@ai-sdk/openai/dist/index.js:390:50)
      at async fn (/Users/xld/Desktop/project/AI-agent/node_modules/ai/dist/index.js:2341:33)
      at async /Users/xld/Desktop/project/AI-agent/node_modules/ai/dist/index.js:343:22
      at async _retryWithExponentialBackoff (/Users/xld/Desktop/project/AI-agent/node_modules/ai/dist/index.js:171:12)
      at async fn (/Users/xld/Desktop/project/AI-agent/node_modules/ai/dist/index.js:2309:34)
      at async /Users/xld/Desktop/project/AI-agent/node_modules/ai/dist/index.js:343:22
      at async MastraCodeReviewAgent.generateAssessment (/Users/xld/Desktop/project/AI-agent/dist/agent.js:76:24)
      at async MastraCodeReviewAgent.analyzeCode (/Users/xld/Desktop/project/AI-agent/dist/agent.js:51:28) {
    cause: ConnectTimeoutError: Connect Timeout Error
        at onConnectTimeout (node:internal/deps/undici/undici:8422:28)
        at node:internal/deps/undici/undici:8380:50
        at Immediate._onImmediate (node:internal/deps/undici/undici:8411:13)
        at process.processImmediate (node:internal/timers:476:21) {
      code: 'UND_ERR_CONNECT_TIMEOUT'
    },
    url: 'https://api.openai.com/v1/chat/completions',
    requestBodyValues: {
      model: 'gpt-4',
      logit_bias: undefined,
      logprobs: undefined,
      top_logprobs: undefined,
      user: undefined,
      parallel_tool_calls: undefined,
      max_tokens: undefined,
      temperature: 0,
      top_p: undefined,
      frequency_penalty: undefined,
      presence_penalty: undefined,
      stop: undefined,
      seed: undefined,
      max_completion_tokens: undefined,
      store: undefined,
      metadata: undefined,
      response_format: undefined,
      messages: [
        {
          role: 'user',
          content: 'You are a senior code reviewer. Analyze this javascript code and provide:\n' +
            '1. A comprehensive summary of the code quality\n' +
            '2. Optimized version of the code (if improvements are possible)\n' +
            '\n' +
            'Code:\n' +
            '```javascript\n' +
            'const x = 5; console.log(x)\n' +
            '```\n' +
            '\n' +
            'Detected Issues:\n' +
            '- style (low): Missing semicolon\\n- suggestion (low): console.log found - should be removed in production\n' +
            '\n' +
            '\n' +
            '\n' +
            'Provide your analysis focusing on code quality, maintainability, and best practices.'
        }
      ],
      tool_choice: { type: 'function', function: { name: 'json' } },
      tools: [
        {
          type: 'function',
          function: {
            name: 'json',
            description: 'Respond with a JSON object.',
            parameters: {
              type: 'object',
              properties: {
                summary: {
                  type: 'string',
                  description: 'Comprehensive summary of code quality and recommendations'
                },
                optimizedCode: {
                  type: 'string',
                  description: 'Improved version of the code if optimizations are possible'
                },
                additionalSuggestions: {
                  type: 'array',
                  items: { type: 'string' },
                  description: 'Additional suggestions for improvement'
                }
              },
              required: [ 'summary', 'additionalSuggestions' ],
              additionalProperties: false,
              '$schema': 'http://json-schema.org/draft-07/schema#'
            },
            strict: undefined
          }
        }
      ]
    },
    statusCode: undefined,
    responseHeaders: undefined,
    responseBody: undefined,
    isRetryable: true,
    data: undefined,
    [Symbol(vercel.ai.error)]: true,
    [Symbol(vercel.ai.error.AI_APICallError)]: true
  },
  level: 'error',
  message: 'Error analyzing code: Failed after 3 attempts. Last error: Cannot connect to API: Connect Timeout Error',
  stack: 'AI_RetryError: Failed after 3 attempts. Last error: Cannot connect to API: Connect Timeout Error\n' +
    '    at _retryWithExponentialBackoff (/Users/xld/Desktop/project/AI-agent/node_modules/ai/dist/index.js:183:13)\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n' +
    '    at async fn (/Users/xld/Desktop/project/AI-agent/node_modules/ai/dist/index.js:2309:34)\n' +
    '    at async /Users/xld/Desktop/project/AI-agent/node_modules/ai/dist/index.js:343:22\n' +
    '    at async MastraCodeReviewAgent.generateAssessment (/Users/xld/Desktop/project/AI-agent/dist/agent.js:76:24)\n' +
    '    at async MastraCodeReviewAgent.analyzeCode (/Users/xld/Desktop/project/AI-agent/dist/agent.js:51:28)\n' +
    '    at async /Users/xld/Desktop/project/AI-agent/dist/index.js:99:24',
  timestamp: '2025-08-17 20:40:09',
  [Symbol(vercel.ai.error)]: true,
  [Symbol(vercel.ai.error.AI_RetryError)]: true
}
{
  service: 'ai-code-review-agent',
  method: 'POST',
  url: '/api/analyze-code',
  status: 500,
  duration: '36073ms',
  userAgent: 'curl/7.87.0',
  ip: '::ffff:127.0.0.1',
  level: 'warn',
  message: 'HTTP Request',
  timestamp: '2025-08-17 20:40:09'
}
{
  service: 'ai-code-review-agent',
  method: 'POST',
  url: '/api/review-repository',
  status: 400,
  duration: '1ms',
  userAgent: 'curl/7.87.0',
  ip: '::ffff:127.0.0.1',
  level: 'warn',
  message: 'HTTP Request',
  timestamp: '2025-08-17 20:40:16'
}
{
  service: 'ai-code-review-agent',
  method: 'POST',
  url: '/api/optimize-code',
  status: 500,
  duration: '36030ms',
  userAgent: 'curl/7.87.0',
  ip: '::ffff:127.0.0.1',
  level: 'warn',
  message: 'HTTP Request',
  timestamp: '2025-08-17 20:40:59'
}
{
  service: 'ai-code-review-agent',
  method: 'POST',
  url: '/api/explain-code',
  status: 500,
  duration: '36034ms',
  userAgent: 'curl/7.87.0',
  ip: '::ffff:127.0.0.1',
  level: 'warn',
  message: 'HTTP Request',
  timestamp: '2025-08-17 20:41:43'
}
{
  message: 'ðŸ›‘ Shutting down gracefully...',
  level: 'info',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 20:41:52'
}
{
  message: 'Registered Mastra tool: filesystem',
  level: 'info',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 21:14:56'
}
{
  message: 'Registered Mastra tool: code_analyzer',
  level: 'info',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 21:14:56'
}
{
  message: 'Registered Mastra tool: git_integration',
  level: 'info',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 21:14:56'
}
{
  message: 'Registered Mastra tool: code_generator',
  level: 'info',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 21:14:56'
}
{
  message: 'Initialized 4 Mastra tools',
  level: 'info',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 21:14:56'
}
{
  message: 'Registered Mastra workflow: Comprehensive Code Review',
  level: 'info',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 21:14:56'
}
{
  message: 'Registered Mastra workflow: Security Audit',
  level: 'info',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 21:14:56'
}
{
  message: 'Registered Mastra workflow: Repository Analysis',
  level: 'info',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 21:14:56'
}
{
  message: 'Initialized 3 Mastra workflows',
  level: 'info',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 21:14:56'
}
{
  message: 'No API key found. Set OPENAI_API_KEY or ANTHROPIC_API_KEY environment variable.',
  level: 'warn',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 21:14:56'
}
{
  message: 'WebSocket server started on port 3001',
  level: 'info',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 21:14:56'
}
{
  service: 'ai-code-review-agent',
  port: 3000,
  wsPort: 3001,
  agent: 'CodeReviewAgent',
  model: 'gpt-4',
  environment: 'development',
  dashboard: 'http://localhost:3000',
  websocket: 'ws://localhost:3001',
  level: 'info',
  message: 'ðŸš€ Code Review AI Agent server started',
  timestamp: '2025-08-17 21:14:56'
}
{
  service: 'ai-code-review-agent',
  method: 'GET',
  url: '/api/health',
  status: 200,
  duration: '10ms',
  userAgent: 'curl/7.87.0',
  ip: '::ffff:127.0.0.1',
  level: 'info',
  message: 'HTTP Request',
  timestamp: '2025-08-17 21:15:33'
}
{
  message: 'ðŸ›‘ Shutting down gracefully...',
  level: 'info',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 21:15:39'
}
{
  message: 'Registered Mastra tool: filesystem',
  level: 'info',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 21:42:15'
}
{
  message: 'Registered Mastra tool: code_analyzer',
  level: 'info',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 21:42:15'
}
{
  message: 'Registered Mastra tool: git_integration',
  level: 'info',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 21:42:15'
}
{
  message: 'Registered Mastra tool: code_generator',
  level: 'info',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 21:42:15'
}
{
  message: 'Initialized 4 Mastra tools',
  level: 'info',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 21:42:15'
}
{
  message: 'Registered Mastra workflow: Comprehensive Code Review',
  level: 'info',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 21:42:15'
}
{
  message: 'Registered Mastra workflow: Security Audit',
  level: 'info',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 21:42:15'
}
{
  message: 'Registered Mastra workflow: Repository Analysis',
  level: 'info',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 21:42:15'
}
{
  message: 'Initialized 3 Mastra workflows',
  level: 'info',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 21:42:15'
}
{
  message: 'No API key found. Set OPENAI_API_KEY or ANTHROPIC_API_KEY environment variable.',
  level: 'warn',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 21:42:15'
}
{
  message: 'WebSocket server started on port 3001',
  level: 'info',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 21:42:15'
}
{
  service: 'ai-code-review-agent',
  port: 3000,
  wsPort: 3001,
  agent: 'CodeReviewAgent',
  model: 'gpt-4',
  environment: 'development',
  dashboard: 'http://localhost:3000',
  websocket: 'ws://localhost:3001',
  level: 'info',
  message: 'ðŸš€ Code Review AI Agent server started',
  timestamp: '2025-08-17 21:42:15'
}
{
  service: 'ai-code-review-agent',
  messageLength: 17,
  hasAttachedCode: false,
  fileName: undefined,
  historyLength: 0,
  level: 'info',
  message: 'Processing chat message',
  timestamp: '2025-08-17 21:42:23'
}
{
  service: 'ai-code-review-agent',
  responseLength: 187,
  needsAction: false,
  level: 'info',
  message: 'Chat response generated',
  timestamp: '2025-08-17 21:42:23'
}
{
  service: 'ai-code-review-agent',
  method: 'POST',
  url: '/api/chat',
  status: 200,
  duration: '20ms',
  userAgent: 'curl/7.87.0',
  ip: '::ffff:127.0.0.1',
  level: 'info',
  message: 'HTTP Request',
  timestamp: '2025-08-17 21:42:23'
}
{
  service: 'ai-code-review-agent',
  messageLength: 55,
  hasAttachedCode: false,
  fileName: undefined,
  historyLength: 0,
  level: 'info',
  message: 'Processing chat message',
  timestamp: '2025-08-17 21:42:30'
}
{
  service: 'ai-code-review-agent',
  responseLength: 225,
  needsAction: false,
  level: 'info',
  message: 'Chat response generated',
  timestamp: '2025-08-17 21:42:30'
}
{
  service: 'ai-code-review-agent',
  method: 'POST',
  url: '/api/chat',
  status: 200,
  duration: '3ms',
  userAgent: 'curl/7.87.0',
  ip: '::ffff:127.0.0.1',
  level: 'info',
  message: 'HTTP Request',
  timestamp: '2025-08-17 21:42:30'
}
{
  message: 'ðŸ›‘ Shutting down gracefully...',
  level: 'info',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 21:42:37'
}
{
  message: 'Registered Mastra tool: filesystem',
  level: 'info',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 21:56:56'
}
{
  message: 'Registered Mastra tool: code_analyzer',
  level: 'info',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 21:56:56'
}
{
  message: 'Registered Mastra tool: git_integration',
  level: 'info',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 21:56:56'
}
{
  message: 'Registered Mastra tool: code_generator',
  level: 'info',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 21:56:56'
}
{
  message: 'Initialized 4 Mastra tools',
  level: 'info',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 21:56:56'
}
{
  message: 'Registered Mastra workflow: Comprehensive Code Review',
  level: 'info',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 21:56:56'
}
{
  message: 'Registered Mastra workflow: Security Audit',
  level: 'info',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 21:56:56'
}
{
  message: 'Registered Mastra workflow: Repository Analysis',
  level: 'info',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 21:56:56'
}
{
  message: 'Initialized 3 Mastra workflows',
  level: 'info',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 21:56:56'
}
{
  message: 'No API key found. Set OPENAI_API_KEY or ANTHROPIC_API_KEY environment variable.',
  level: 'warn',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 21:56:56'
}
{
  message: 'WebSocket server started on port 3001',
  level: 'info',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 21:56:56'
}
{
  service: 'ai-code-review-agent',
  port: 3000,
  wsPort: 3001,
  agent: 'CodeReviewAgent',
  model: 'gpt-4',
  environment: 'development',
  dashboard: 'http://localhost:3000',
  websocket: 'ws://localhost:3001',
  level: 'info',
  message: 'ðŸš€ Code Review AI Agent server started',
  timestamp: '2025-08-17 21:56:56'
}
{
  service: 'ai-code-review-agent',
  messageLength: 11,
  hasAttachedCode: false,
  fileName: undefined,
  historyLength: 0,
  level: 'info',
  message: 'Processing chat message',
  timestamp: '2025-08-17 21:57:03'
}
{
  service: 'ai-code-review-agent',
  responseLength: 181,
  needsAction: false,
  level: 'info',
  message: 'Chat response generated',
  timestamp: '2025-08-17 21:57:03'
}
{
  service: 'ai-code-review-agent',
  method: 'POST',
  url: '/api/chat',
  status: 200,
  duration: '21ms',
  userAgent: 'curl/7.87.0',
  ip: '::ffff:127.0.0.1',
  level: 'info',
  message: 'HTTP Request',
  timestamp: '2025-08-17 21:57:03'
}
{
  message: 'ðŸ›‘ Shutting down gracefully...',
  level: 'info',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 21:58:06'
}
{
  message: 'Registered Mastra tool: filesystem',
  level: 'info',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 21:58:09'
}
{
  message: 'Registered Mastra tool: code_analyzer',
  level: 'info',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 21:58:09'
}
{
  message: 'Registered Mastra tool: git_integration',
  level: 'info',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 21:58:09'
}
{
  message: 'Registered Mastra tool: code_generator',
  level: 'info',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 21:58:09'
}
{
  message: 'Initialized 4 Mastra tools',
  level: 'info',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 21:58:09'
}
{
  message: 'Registered Mastra workflow: Comprehensive Code Review',
  level: 'info',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 21:58:09'
}
{
  message: 'Registered Mastra workflow: Security Audit',
  level: 'info',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 21:58:09'
}
{
  message: 'Registered Mastra workflow: Repository Analysis',
  level: 'info',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 21:58:09'
}
{
  message: 'Initialized 3 Mastra workflows',
  level: 'info',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 21:58:09'
}
{
  message: 'No API key found. Set OPENAI_API_KEY or ANTHROPIC_API_KEY environment variable.',
  level: 'warn',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 21:58:09'
}
{
  message: 'WebSocket server started on port 3001',
  level: 'info',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 21:58:09'
}
{
  service: 'ai-code-review-agent',
  port: 3000,
  wsPort: 3001,
  agent: 'CodeReviewAgent',
  model: 'gpt-4',
  environment: 'development',
  dashboard: 'http://localhost:3000',
  websocket: 'ws://localhost:3001',
  level: 'info',
  message: 'ðŸš€ Code Review AI Agent server started',
  timestamp: '2025-08-17 21:58:09'
}
{
  service: 'ai-code-review-agent',
  messageLength: 11,
  hasAttachedCode: false,
  fileName: undefined,
  historyLength: 0,
  level: 'info',
  message: 'Processing chat message',
  timestamp: '2025-08-17 21:58:15'
}
{
  service: 'ai-code-review-agent',
  responseLength: 239,
  needsAction: false,
  level: 'info',
  message: 'Chat response generated',
  timestamp: '2025-08-17 21:58:15'
}
{
  service: 'ai-code-review-agent',
  method: 'POST',
  url: '/api/chat',
  status: 200,
  duration: '17ms',
  userAgent: 'curl/7.87.0',
  ip: '::ffff:127.0.0.1',
  level: 'info',
  message: 'HTTP Request',
  timestamp: '2025-08-17 21:58:15'
}
{
  service: 'ai-code-review-agent',
  messageLength: 22,
  hasAttachedCode: false,
  fileName: undefined,
  historyLength: 0,
  level: 'info',
  message: 'Processing chat message',
  timestamp: '2025-08-17 21:58:23'
}
{
  service: 'ai-code-review-agent',
  responseLength: 255,
  needsAction: false,
  level: 'info',
  message: 'Chat response generated',
  timestamp: '2025-08-17 21:58:23'
}
{
  service: 'ai-code-review-agent',
  method: 'POST',
  url: '/api/chat',
  status: 200,
  duration: '3ms',
  userAgent: 'curl/7.87.0',
  ip: '::ffff:127.0.0.1',
  level: 'info',
  message: 'HTTP Request',
  timestamp: '2025-08-17 21:58:23'
}
{
  service: 'ai-code-review-agent',
  messageLength: 7,
  hasAttachedCode: false,
  fileName: undefined,
  historyLength: 0,
  level: 'info',
  message: 'Processing chat message',
  timestamp: '2025-08-17 21:58:29'
}
{
  service: 'ai-code-review-agent',
  responseLength: 75,
  needsAction: false,
  level: 'info',
  message: 'Chat response generated',
  timestamp: '2025-08-17 21:58:29'
}
{
  service: 'ai-code-review-agent',
  method: 'POST',
  url: '/api/chat',
  status: 200,
  duration: '2ms',
  userAgent: 'curl/7.87.0',
  ip: '::ffff:127.0.0.1',
  level: 'info',
  message: 'HTTP Request',
  timestamp: '2025-08-17 21:58:29'
}
{
  message: 'ðŸ›‘ Shutting down gracefully...',
  level: 'info',
  service: 'ai-code-review-agent',
  timestamp: '2025-08-17 21:58:35'
}
